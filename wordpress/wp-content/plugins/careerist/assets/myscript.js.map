{"version":3,"file":"myscript.js","sources":["myscript.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nwindow.addEventListener(\"load\", function () {\n  // store tabs variables\n  var tabs = document.querySelectorAll(\"ul.nav-tabs > li\");\n\n  for (var i = 0; i < tabs.length; i++) {\n    tabs[i].addEventListener(\"click\", switchTab);\n  }\n\n  function switchTab(event) {\n    event.preventDefault();\n\n    document.querySelector(\"ul.nav-tabs li.active\").classList.remove(\"active\");\n    document.querySelector(\".tab-pane.active\").classList.remove(\"active\");\n\n    var clickedTab = event.currentTarget;\n    var anchor = event.target;\n    var activePaneID = anchor.getAttribute(\"href\");\n\n    clickedTab.classList.add(\"active\");\n    document.querySelector(activePaneID).classList.add(\"active\");\n  }\n\n  var spans = document.querySelectorAll(\".word span\");\n\n  spans.forEach(function (span, idx) {\n    span.addEventListener(\"click\", function (e) {\n      e.target.classList.add(\"active\");\n    });\n    span.addEventListener(\"animationend\", function (e) {\n      e.target.classList.remove(\"active\");\n    });\n\n    // Initial animation\n    setTimeout(function () {\n      span.classList.add(\"active\");\n    }, 750 * (idx + 1));\n  });\n\n  var selects = document.querySelectorAll(\".js-taxonomy-selector\");\n  selects.forEach(function (el) {\n    var url = el.dataset.url;\n    el.addEventListener(\"change\", function (e) {\n      var body = {\n        taxonomy: el.dataset.taxonomy,\n        careerist_id: el.dataset.careerist_id,\n        id: e.target.value,\n        action: el.dataset.action,\n        nonce: el.dataset.nonce\n      };\n      var params = new URLSearchParams(body);\n      fetch(url, {\n        method: \"POST\",\n        body: params\n      }).then(function (res) {\n        return res.json();\n      }).then(function (response) {});\n    });\n  });\n});\n\n/* Sync btn */\ndocument.addEventListener(\"DOMContentLoaded\", function (e) {\n  var testimonialForm = document.getElementById(\"careerist-sync-trigger-form\");\n\n  testimonialForm.addEventListener(\"submit\", function (e) {\n    e.preventDefault();\n\n    // reset the form messages\n    resetMessages();\n\n    // collect all the data\n    var data = {\n      nonce: testimonialForm.querySelector('[name=\"nonce\"]').value\n    };\n\n    // validate everything\n    // ajax http post request\n    var url = testimonialForm.dataset.url;\n    var params = new URLSearchParams(new FormData(testimonialForm));\n\n    testimonialForm.querySelector(\".js-form-submission\").classList.add(\"show\");\n\n    fetch(url, {\n      method: \"POST\",\n      body: params\n    }).then(function (res) {\n      return res.json();\n    }).catch(function (error) {\n      resetMessages();\n      testimonialForm.querySelector(\".js-form-error\").classList.add(\"show\");\n    }).then(function (response) {\n      resetMessages();\n\n      if (response === 0 || response.status === \"error\") {\n        testimonialForm.querySelector(\".js-form-error\").classList.add(\"show\");\n        return;\n      }\n\n      testimonialForm.querySelector(\".js-form-success\").classList.add(\"show\");\n      testimonialForm.reset();\n    });\n  });\n\n  //wp_ajax_careerist_wire_taxonomy\n});\n\nfunction resetMessages() {\n  document.querySelectorAll(\".field-msg\").forEach(function (f) {\n    return f.classList.remove(\"show\");\n  });\n}\n\nfunction validateEmail(email) {\n  var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n}\n\nfunction format(d) {\n  // `d` is the original data object for the row\n  var str = \"\";\n  str += '<table cellpadding=\"5\" cellspacing=\"0\" border=\"0\" style=\"padding-left:50px;\">';\n  for (var attr in d) {\n    if (attr.slice(0, 4) == \"adam\") {\n      str += \"<tr>\" + \"<td>\" + attr.replace(\"adam_\", \"\") + \":</td>\" + \"<td>\" + d[attr] + \"</td>\" + \"</tr>\";\n    }\n  }\n  str += \"</table>\";\n  return str;\n}\n\nfunction formatLogEvents(d) {\n  // `d` is the original data object for the row\n  var str = \"\";\n  str += '<table cellpadding=\"5\" cellspacing=\"0\" border=\"0\" style=\"padding-left:50px;\">';\n  str += '<thead><td>Action</td><td>Adam ID</td><td>Post</td><td>Post ID</td></thead>';\n  str += '<tbody>';\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = d.events[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var event = _step.value;\n\n      var adam_id_value = '';\n      var post_value = '';\n      var post_id_value = '';\n      switch (event.type) {\n        case 'ADD_JOB':\n        case 'UPDATE_JOB':\n        case 'MOVE_JOB_TO_TRASH':\n          adam_id_value = event.adam_id;\n          post_value = '<a href=\"/careers/position-' + event.adam_id + '\" target=\"_blank\">' + event.post_title + '</a>';\n          post_id_value = event.post_id;\n          break;\n        default:\n          break;\n      }\n      str += \"<tr>\" + \"<td>\" + event.type + \":</td>\" + \"<td>\" + adam_id_value + \"</td>\" + \"<td>\" + post_value + \"</td>\" + \"<td>\" + post_id_value + \"</td>\" + \"</tr>\";\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  str += '</tbody>';\n  str += \"</table>\";\n  return str;\n}\n\n// TABLES START\nvar tables = {\n  table1: {},\n  table2: {},\n  table3: {}\n};\nvar drawCallback = function drawCallback(table, id, formatCallback) {\n  return function (settings, json) {\n    var togglers = document.querySelectorAll(\"#\" + id + \" td.dt-control\");\n    for (var i = 0; i < togglers.length; i++) {\n      togglers[i].addEventListener(\"click\", function (evt) {\n        if (!table) return;\n        var tr = evt.target.parentNode;\n        var row = table.row(tr);\n\n        // row.child(format(tr.data('child-name'), tr.data('child-value'))).show();\n        if (row.child.isShown()) {\n          // This row is already open - close it\n          row.child.hide();\n          tr.classList.remove(\"shown\");\n        } else {\n          // Open this row\n          row.child(formatCallback(row.data())).show();\n          tr.classList.add(\"shown\");\n        }\n      });\n    }\n  };\n};\n\nwindow.addEventListener(\"load\", function () {\n  var tabs = document.querySelectorAll(\".tabs ul > li\");\n  for (var i = 0; i < tabs.length; i++) {\n    tabs[i].addEventListener(\"click\", function (e) {\n      renderTables();\n    });\n  }\n});\nfunction renderTable1() {\n  var jobsTable = document.getElementById(\"myTable\");\n  if (jobsTable) {\n    tables.table1 = Object.assign(tables.table1, new DataTable(\"#myTable\", {\n      ajax: jobsTable.dataset.fetchUrl,\n      scrollY: 700,\n      deferRender: true,\n      scroller: true,\n      columns: [{\n        className: \"dt-control\",\n        orderable: false,\n        data: null,\n        defaultContent: \"\"\n      }, { data: \"adam_id\" }, { data: \"name\" }, { data: \"category\" }, { data: \"subcategory\" }, { data: \"post\" }],\n      order: [[1, \"desc\"]],\n      drawCallback: drawCallback(tables.table1, \"myTable\", format)\n    }));\n  }\n}\n\nfunction renderTable2() {\n  var jobstable2 = document.getElementById(\"myTable2\");\n  if (jobstable2) {\n    tables.table2 = Object.assign(tables.table2, new DataTable(\"#myTable2\", {\n      ajax: jobstable2.dataset.fetchUrl,\n      scrollY: 700,\n      deferRender: true,\n      scroller: true,\n      columns: [{\n        className: \"dt-control\",\n        orderable: false,\n        data: null,\n        defaultContent: \"\"\n      }, { data: \"adam_id\" }, { data: \"adam_description\" }, { data: \"adam_ProffesionID\" }, { data: \"adam_SubProffesionID\" }],\n      order: [[1, \"desc\"]],\n      drawCallback: function () {\n        return drawCallback(tables.table2, \"myTable2\", format);\n      }()\n    }));\n  }\n}\n\n// function renderTable3() {\n//   var jobstable3 = document.getElementById(\"myTable3\");\n//   if (jobstable3) {\n//     tables.table3 = Object.assign(\n//       tables.table3,\n//       new DataTable(\"#myTable3\", {\n//         ajax: jobstable3.dataset.fetchUrl,\n//         scrollY: 700,\n//         deferRender: true,\n//         scroller: true,\n//         columns: [\n//           {\n//             className: \"dt-control\",\n//             orderable: false,\n//             data: null,\n//             defaultContent: \"\",\n//           },\n//           { data: \"timestamp\" },\n//           { data: \"is_in_force_mode\" },\n//           { data: \"status\" },\n//         ],\n//         order: [[1, \"desc\"]],\n//         drawCallback: (() => drawCallback(tables.table3, \"myTable3\"))(),\n//       })\n//     );\n//   }\n// }\nfunction renderTable3() {\n  var jobstable3 = document.getElementById(\"myTable3\");\n  if (jobstable3) {\n    tables.table3 = Object.assign(tables.table3, new DataTable(\"#myTable3\", {\n      ajax: jobstable3.dataset.fetchUrl,\n      scrollY: 700,\n      deferRender: true,\n      scroller: true,\n      columns: [{\n        className: \"dt-control\",\n        orderable: false,\n        data: null,\n        defaultContent: \"\"\n      }, { data: \"start_timestamp\" }, { data: \"end_timestamp\" }, { data: \"is_in_force_mode\" }, { data: \"status\" }],\n      order: [[1, \"desc\"]],\n      drawCallback: function () {\n        return drawCallback(tables.table3, \"myTable3\", formatLogEvents);\n      }()\n    }));\n  }\n}\n\nfunction renderTables() {\n  if (tables.table1 && tables.table1.destroy) tables.table1.destroy();\n  renderTable1();\n  if (tables.table2 && tables.table2.destroy) tables.table2.destroy();\n  renderTable2();\n  if (tables.table3 && tables.table3.destroy) tables.table3.destroy();\n  renderTable3();\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  renderTables();\n});\n// TABLES END\n\n},{}]},{},[1]);\n"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","resetMessages","document","querySelectorAll","forEach","classList","remove","format","d","attr","str","slice","replace","formatLogEvents","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","events","Symbol","iterator","next","done","event","value","adam_id_value","post_value","post_id_value","type","adam_id","post_title","post_id","err","return","window","addEventListener","tabs","switchTab","preventDefault","querySelector","clickedTab","currentTarget","activePaneID","target","getAttribute","add","span","idx","setTimeout","el","url","dataset","body","taxonomy","careerist_id","id","action","nonce","params","URLSearchParams","fetch","method","then","res","json","response","testimonialForm","getElementById","FormData","catch","error","status","reset","tables","table1","table2","table3","drawCallback","table","formatCallback","settings","togglers","evt","row","tr","parentNode","child","isShown","hide","data","show","renderTables","jobstable3","destroy","jobsTable","Object","assign","DataTable","ajax","fetchUrl","scrollY","deferRender","scroller","columns","className","orderable","defaultContent","order","jobstable2"],"mappings":"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"}