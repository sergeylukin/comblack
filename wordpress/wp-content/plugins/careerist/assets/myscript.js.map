{"version":3,"file":"myscript.js","sources":["myscript.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nwindow.addEventListener(\"load\", function () {\n  // store tabs variables\n  var tabs = document.querySelectorAll(\"ul.nav-tabs > li\");\n\n  for (var i = 0; i < tabs.length; i++) {\n    tabs[i].addEventListener(\"click\", switchTab);\n  }\n\n  function switchTab(event) {\n    event.preventDefault();\n\n    document.querySelector(\"ul.nav-tabs li.active\").classList.remove(\"active\");\n    document.querySelector(\".tab-pane.active\").classList.remove(\"active\");\n\n    var clickedTab = event.currentTarget;\n    var anchor = event.target;\n    var activePaneID = anchor.getAttribute(\"href\");\n\n    clickedTab.classList.add(\"active\");\n    document.querySelector(activePaneID).classList.add(\"active\");\n  }\n\n  var spans = document.querySelectorAll(\".word span\");\n\n  spans.forEach(function (span, idx) {\n    span.addEventListener(\"click\", function (e) {\n      e.target.classList.add(\"active\");\n    });\n    span.addEventListener(\"animationend\", function (e) {\n      e.target.classList.remove(\"active\");\n    });\n\n    // Initial animation\n    setTimeout(function () {\n      span.classList.add(\"active\");\n    }, 750 * (idx + 1));\n  });\n\n  var selects = document.querySelectorAll(\".js-taxonomy-selector\");\n  selects.forEach(function (el) {\n    var url = el.dataset.url;\n    el.addEventListener(\"change\", function (e) {\n      var body = {\n        taxonomy: el.dataset.taxonomy,\n        careerist_id: el.dataset.careerist_id,\n        id: e.target.value,\n        action: el.dataset.action,\n        nonce: el.dataset.nonce\n      };\n      var params = new URLSearchParams(body);\n      fetch(url, {\n        method: \"POST\",\n        body: params\n      }).then(function (res) {\n        return res.json();\n      }).then(function (response) {});\n    });\n  });\n});\n\n/* Sync btn */\ndocument.addEventListener(\"DOMContentLoaded\", function (e) {\n  var testimonialForm = document.getElementById(\"careerist-sync-trigger-form\");\n\n  testimonialForm.addEventListener(\"submit\", function (e) {\n    e.preventDefault();\n\n    // reset the form messages\n    resetMessages();\n\n    // collect all the data\n    var data = {\n      nonce: testimonialForm.querySelector('[name=\"nonce\"]').value\n    };\n\n    // validate everything\n    // ajax http post request\n    var url = testimonialForm.dataset.url;\n    var params = new URLSearchParams(new FormData(testimonialForm));\n\n    testimonialForm.querySelector(\".js-form-submission\").classList.add(\"show\");\n\n    fetch(url, {\n      method: \"POST\",\n      body: params\n    }).then(function (res) {\n      return res.json();\n    }).catch(function (error) {\n      resetMessages();\n      testimonialForm.querySelector(\".js-form-error\").classList.add(\"show\");\n    }).then(function (response) {\n      resetMessages();\n\n      if (response === 0 || response.status === \"error\") {\n        testimonialForm.querySelector(\".js-form-error\").classList.add(\"show\");\n        return;\n      }\n\n      testimonialForm.querySelector(\".js-form-success\").classList.add(\"show\");\n      testimonialForm.reset();\n    });\n  });\n\n  //wp_ajax_careerist_wire_taxonomy\n});\n\nfunction resetMessages() {\n  document.querySelectorAll(\".field-msg\").forEach(function (f) {\n    return f.classList.remove(\"show\");\n  });\n}\n\nfunction validateEmail(email) {\n  var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n}\n\nfunction format(d) {\n  // `d` is the original data object for the row\n  var str = \"\";\n  str += '<table cellpadding=\"5\" cellspacing=\"0\" border=\"0\" style=\"padding-left:50px;\">';\n  for (var attr in d) {\n    if (attr.slice(0, 4) == \"adam\") {\n      str += \"<tr>\" + \"<td>\" + attr.replace(\"adam_\", \"\") + \":</td>\" + \"<td>\" + d[attr] + \"</td>\" + \"</tr>\";\n    }\n  }\n  str += \"</table>\";\n  return str;\n}\n\n// TABLES START\nvar tables = {\n  table1: {},\n  table2: {}\n};\nvar drawCallback = function drawCallback(table, id) {\n  return function (settings, json) {\n    var togglers = document.querySelectorAll(\"#\" + id + \" td.dt-control\");\n    for (var i = 0; i < togglers.length; i++) {\n      togglers[i].addEventListener(\"click\", function (evt) {\n        if (!table) return;\n        var tr = evt.target.parentNode;\n        var row = table.row(tr);\n\n        // row.child(format(tr.data('child-name'), tr.data('child-value'))).show();\n        if (row.child.isShown()) {\n          // This row is already open - close it\n          row.child.hide();\n          tr.classList.remove(\"shown\");\n        } else {\n          // Open this row\n          row.child(format(row.data())).show();\n          tr.classList.add(\"shown\");\n        }\n      });\n    }\n  };\n};\n\nwindow.addEventListener(\"load\", function () {\n  var tabs = document.querySelectorAll(\".tabs ul > li\");\n  for (var i = 0; i < tabs.length; i++) {\n    tabs[i].addEventListener(\"click\", function (e) {\n      renderTables();\n    });\n  }\n});\nfunction renderTable1() {\n  var jobsTable = document.getElementById(\"myTable\");\n  tables.table1 = Object.assign(tables.table1, new DataTable(\"#myTable\", {\n    ajax: jobsTable.dataset.fetchUrl,\n    scrollY: 700,\n    deferRender: true,\n    scroller: true,\n    columns: [{\n      className: \"dt-control\",\n      orderable: false,\n      data: null,\n      defaultContent: \"\"\n    }, { data: \"adam_id\" }, { data: \"name\" }, { data: \"category\" }, { data: \"subcategory\" }, { data: \"post\" }],\n    order: [[1, \"desc\"]],\n    drawCallback: drawCallback(tables.table1, \"myTable\")\n  }));\n}\n\nfunction renderTable2() {\n  var jobstable2 = document.getElementById(\"myTable2\");\n  tables.table2 = Object.assign(tables.table2, new DataTable(\"#myTable2\", {\n    ajax: jobstable2.dataset.fetchUrl,\n    scrollY: 700,\n    deferRender: true,\n    scroller: true,\n    columns: [{\n      className: \"dt-control\",\n      orderable: false,\n      data: null,\n      defaultContent: \"\"\n    }, { data: \"adam_id\" }, { data: \"adam_description\" }, { data: \"adam_ProffesionID\" }, { data: \"adam_SubProffesionID\" }],\n    order: [[1, \"desc\"]],\n    drawCallback: function () {\n      return drawCallback(tables.table2, \"myTable2\");\n    }()\n  }));\n}\n\nfunction renderTables() {\n  if (tables.table1.destroy) tables.table1.destroy();\n  renderTable1();\n  if (tables.table2.destroy) tables.table2.destroy();\n  renderTable2();\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  renderTables();\n});\n// TABLES END\n\n},{}]},{},[1]);\n"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","resetMessages","document","querySelectorAll","forEach","classList","remove","window","addEventListener","tabs","switchTab","event","preventDefault","querySelector","clickedTab","currentTarget","activePaneID","target","getAttribute","add","span","idx","setTimeout","el","url","dataset","body","taxonomy","careerist_id","id","value","action","nonce","params","URLSearchParams","fetch","method","then","res","json","response","testimonialForm","getElementById","FormData","catch","error","status","reset","tables","table1","table2","drawCallback","table","settings","togglers","evt","row","tr","parentNode","child","isShown","hide","d","attr","str","slice","replace","format","data","show","renderTables","jobstable2","destroy","jobsTable","Object","assign","DataTable","ajax","fetchUrl","scrollY","deferRender","scroller","columns","className","orderable","defaultContent","order"],"mappings":"CAAY,SAASA,EAAEC,EAAEC,EAAEC,GAAG,SAASC,EAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,IAAIE,EAAE,mBAAmBC,SAASA,QAAQ,IAAIF,GAAGC,EAAE,OAAOA,EAAEF,GAAE,GAAI,GAAGI,EAAE,OAAOA,EAAEJ,GAAE,GAAkD,MAA1CK,EAAE,IAAIC,MAAM,uBAAuBN,EAAE,MAAaO,KAAK,mBAAmBF,EAAMG,EAAEX,EAAEG,GAAG,CAACS,QAAQ,IAAIb,EAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAoB,OAAOI,EAAlBH,EAAEI,GAAG,GAAGL,IAAeA,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,OAAOD,EAAEG,GAAGS,QAAQ,IAAI,IAAIL,EAAE,mBAAmBD,SAASA,QAAQH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,IAAI,OAAOD,EAA7b,CAA4c,CAACa,EAAE,CAAC,SAAST,EAAQU,EAAOJ,gBA6Gxe,SAASK,IACPC,SAASC,iBAAiB,cAAcC,QAAQ,SAAUhB,GACxD,OAAOA,EAAEiB,UAAUC,OAAO,UA5G9BC,OAAOC,iBAAiB,OAAQ,WAI9B,IAFA,IAAIC,EAAOP,SAASC,iBAAiB,oBAE5BhB,EAAI,EAAGA,EAAIsB,EAAKX,OAAQX,IAC/BsB,EAAKtB,GAAGqB,iBAAiB,QAASE,GAGpC,SAASA,EAAUC,GACjBA,EAAMC,iBAENV,SAASW,cAAc,yBAAyBR,UAAUC,OAAO,UACjEJ,SAASW,cAAc,oBAAoBR,UAAUC,OAAO,UAE5D,IAAIQ,EAAaH,EAAMI,cAEnBC,EADSL,EAAMM,OACOC,aAAa,QAEvCJ,EAAWT,UAAUc,IAAI,UACzBjB,SAASW,cAAcG,GAAcX,UAAUc,IAAI,UAGzCjB,SAASC,iBAAiB,cAEhCC,QAAQ,SAAUgB,EAAMC,GAC5BD,EAAKZ,iBAAiB,QAAS,SAAUzB,GACvCA,EAAEkC,OAAOZ,UAAUc,IAAI,YAEzBC,EAAKZ,iBAAiB,eAAgB,SAAUzB,GAC9CA,EAAEkC,OAAOZ,UAAUC,OAAO,YAI5BgB,WAAW,WACTF,EAAKf,UAAUc,IAAI,WAClB,KAAOE,EAAM,MAGJnB,SAASC,iBAAiB,yBAChCC,QAAQ,SAAUmB,GACxB,IAAIC,EAAMD,EAAGE,QAAQD,IACrBD,EAAGf,iBAAiB,SAAU,SAAUzB,GAClC2C,EAAO,CACTC,SAAUJ,EAAGE,QAAQE,SACrBC,aAAcL,EAAGE,QAAQG,aACzBC,GAAI9C,EAAEkC,OAAOa,MACbC,OAAQR,EAAGE,QAAQM,OACnBC,MAAOT,EAAGE,QAAQO,OAEhBC,EAAS,IAAIC,gBAAgBR,GACjCS,MAAMX,EAAK,CACTY,OAAQ,OACRV,KAAMO,IACLI,KAAK,SAAUC,GAChB,OAAOA,EAAIC,SACVF,KAAK,SAAUG,YAMxBtC,SAASM,iBAAiB,mBAAoB,SAAUzB,GACtD,IAAI0D,EAAkBvC,SAASwC,eAAe,+BAE9CD,EAAgBjC,iBAAiB,SAAU,SAAUzB,GACnDA,EAAE6B,iBAGFX,IAISwC,EAAgB5B,cAAc,kBAAkBiB,MADzD,IAMIN,EAAMiB,EAAgBhB,QAAQD,IAC9BS,EAAS,IAAIC,gBAAgB,IAAIS,SAASF,IAE9CA,EAAgB5B,cAAc,uBAAuBR,UAAUc,IAAI,QAEnEgB,MAAMX,EAAK,CACTY,OAAQ,OACRV,KAAMO,IACLI,KAAK,SAAUC,GAChB,OAAOA,EAAIC,SACVK,MAAM,SAAUC,GACjB5C,IACAwC,EAAgB5B,cAAc,kBAAkBR,UAAUc,IAAI,UAC7DkB,KAAK,SAAUG,GAChBvC,IAEiB,IAAbuC,GAAsC,UAApBA,EAASM,OAC7BL,EAAgB5B,cAAc,kBAAkBR,UAAUc,IAAI,SAIhEsB,EAAgB5B,cAAc,oBAAoBR,UAAUc,IAAI,QAChEsB,EAAgBM,eAgCtB,IAAIC,EAAS,CACXC,OAAQ,GACRC,OAAQ,IAENC,EAAe,SAAsBC,EAAOvB,GAC9C,OAAO,SAAUwB,EAAUd,GAEzB,IADA,IAAIe,EAAWpD,SAASC,iBAAiB,IAAM0B,EAAK,kBAC3C1C,EAAI,EAAGA,EAAImE,EAASxD,OAAQX,IACnCmE,EAASnE,GAAGqB,iBAAiB,QAAS,SAAU+C,GAC9C,IAEIC,EAFCJ,IACDK,EAAKF,EAAItC,OAAOyC,YAChBF,EAAMJ,EAAMI,IAAIC,IAGZE,MAAMC,WAEZJ,EAAIG,MAAME,OACVJ,EAAGpD,UAAUC,OAAO,WAGpBkD,EAAIG,MAlCd,SAAgBG,GAEd,IAESC,EAFLC,EAAM,GAEV,IAASD,KADTC,GAAO,gFACUF,EACS,QAApBC,EAAKE,MAAM,EAAG,KAChBD,GAAO,WAAkBD,EAAKG,QAAQ,QAAS,IAAM,aAAoBJ,EAAEC,GAAQ,cAIvF,OADAC,GAAO,WAyBWG,CAAOX,EAAIY,SAASC,OAC9BZ,EAAGpD,UAAUc,IAAI,eAqD3B,SAASmD,IAtCT,IAmBMC,EAoBAvB,EAAOC,OAAOuB,SAASxB,EAAOC,OAAOuB,UAtCrCC,EAAYvE,SAASwC,eAAe,WACxCM,EAAOC,OAASyB,OAAOC,OAAO3B,EAAOC,OAAQ,IAAI2B,UAAU,WAAY,CACrEC,KAAMJ,EAAUhD,QAAQqD,SACxBC,QAAS,IACTC,aAAa,EACbC,UAAU,EACVC,QAAS,CAAC,CACRC,UAAW,aACXC,WAAW,EACXhB,KAAM,KACNiB,eAAgB,IACf,CAAEjB,KAAM,WAAa,CAAEA,KAAM,QAAU,CAAEA,KAAM,YAAc,CAAEA,KAAM,eAAiB,CAAEA,KAAM,SACjGkB,MAAO,CAAC,CAAC,EAAG,SACZnC,aAAcA,EAAaH,EAAOC,OAAQ,cA2BxCD,EAAOE,OAAOsB,SAASxB,EAAOE,OAAOsB,UAtBrCD,EAAarE,SAASwC,eAAe,YACzCM,EAAOE,OAASwB,OAAOC,OAAO3B,EAAOE,OAAQ,IAAI0B,UAAU,YAAa,CACtEC,KAAMN,EAAW9C,QAAQqD,SACzBC,QAAS,IACTC,aAAa,EACbC,UAAU,EACVC,QAAS,CAAC,CACRC,UAAW,aACXC,WAAW,EACXhB,KAAM,KACNiB,eAAgB,IACf,CAAEjB,KAAM,WAAa,CAAEA,KAAM,oBAAsB,CAAEA,KAAM,qBAAuB,CAAEA,KAAM,yBAC7FkB,MAAO,CAAC,CAAC,EAAG,SACZnC,aACSA,EAAaH,EAAOE,OAAQ,eAzCzC3C,OAAOC,iBAAiB,OAAQ,WAE9B,IADA,IAAIC,EAAOP,SAASC,iBAAiB,iBAC5BhB,EAAI,EAAGA,EAAIsB,EAAKX,OAAQX,IAC/BsB,EAAKtB,GAAGqB,iBAAiB,QAAS,SAAUzB,GAC1CuF,QAiDNpE,SAASM,iBAAiB,mBAAoB,WAC5C8D,OAIA,KAAK,GAAG,CAAC"}